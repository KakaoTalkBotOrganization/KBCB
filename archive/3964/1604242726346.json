{
    "result": {
        "article": {
            "commentCount": 6,
            "contentElements": [],
            "contentHtml": "<p>function response(room, msg, sender, isGroupChat, replier, imageDB) {<br />const Bot = {};\r<br />const Check =\r<br />{\r<br /> XY : function(X, Y)\r<br /> {\r<br />  if(!X || !Y) { Bot.Message(&quot;값을 입력해주세요&quot;); return false; }\r<br />  else if(isNaN(X) || isNaN(Y)) {  Bot.Message(&quot;숫자만 입력해주세요.&quot;); return false; }\r<br />       else if(1 &gt; X || X &gt; 15 || 1 &gt; Y || Y &gt; 15) { Bot.Message(&quot;입력 범위를 초과했습니다\\n&quot; + &quot;1 ~ 15 사이의 값을 입력해주세요.&quot;); return false; }\r<br />       else if(Game.Map[Y-1][X-1] == 1 || Game.Map[Y-1][X-1] == 2) { Bot.Message(&quot;이미 돌이 있습니다.&quot;); return false; }\r<br />       else { return true; }\r<br /> },\r<br />    Win : function()\r<br />    {\r<br />     var Score = 0;\r<br />            \r<br />  for(var X = 2 ; X &lt; 13 ; X ++)\r<br />  {\r<br />   for(var Y = 0 ; Y &lt; 15 ; Y ++)\r<br />   {\r<br />           if   (Game[&apos;Map&apos;][Y][X-2] == 1 &amp;&amp; Game[&apos;Map&apos;][Y][X-1] == 1 &amp;&amp; Game[&apos;Map&apos;][Y][X] == 1 &amp;&amp; Game[&apos;Map&apos;][Y][X+1] == 1 &amp;&amp; Game[&apos;Map&apos;][Y][X+2] == 1) { Score++; }\r<br />           else if (Game[&apos;Map&apos;][Y][X-2] == 2 &amp;&amp; Game[&apos;Map&apos;][Y][X-1] == 2 &amp;&amp; Game[&apos;Map&apos;][Y][X] == 2 &amp;&amp; Game[&apos;Map&apos;][Y][X+1] == 2 &amp;&amp; Game[&apos;Map&apos;][Y][X+2] == 2) { Score++; }   \r<br />           else if (Game[&apos;Map&apos;][X-2][Y] == 1 &amp;&amp; Game[&apos;Map&apos;][X-1][Y] == 1 &amp;&amp; Game[&apos;Map&apos;][X][Y] == 1 &amp;&amp; Game[&apos;Map&apos;][X+1][Y] == 1 &amp;&amp; Game[&apos;Map&apos;][X+2][Y] == 1) { Score++; }\r<br />           else if (Game[&apos;Map&apos;][X-2][Y] == 2 &amp;&amp; Game[&apos;Map&apos;][X-1][Y] == 2 &amp;&amp; Game[&apos;Map&apos;][X][Y] == 2 &amp;&amp; Game[&apos;Map&apos;][X+1][Y] == 2 &amp;&amp; Game[&apos;Map&apos;][X+2][Y] == 2) { Score++; }\r<br />   }\r<br />  }\r<br />       for(var X = 2 ; X &lt; 13 ; X ++)\r<br />  {\r<br />   for(var Y = 2 ; Y &lt; 13 ; Y ++)\r<br />   {\r<br />            if   (Game[&apos;Map&apos;][Y-2][X-2] == 1 &amp;&amp; Game[&apos;Map&apos;][Y-1][X-1] == 1 &amp;&amp; Game[&apos;Map&apos;][Y][X] == 1 &amp;&amp; Game[&apos;Map&apos;][Y+1][X+1] == 1 &amp;&amp; Game[&apos;Map&apos;][Y+2][X+2] == 1) { Score++; }\r<br />           else if (Game[&apos;Map&apos;][Y-2][X-2] == 2 &amp;&amp; Game[&apos;Map&apos;][Y-1][X-1] == 2 &amp;&amp; Game[&apos;Map&apos;][Y][X] == 2 &amp;&amp; Game[&apos;Map&apos;][Y+1][X+1] == 2 &amp;&amp; Game[&apos;Map&apos;][Y+2][X+2] == 2) { Score++; }  \r<br />           else if (Game[&apos;Map&apos;][Y+2][X-2] == 1 &amp;&amp; Game[&apos;Map&apos;][Y+1][X-1] == 1 &amp;&amp; Game[&apos;Map&apos;][Y][X] == 1 &amp;&amp; Game[&apos;Map&apos;][Y-1][X+1] == 1 &amp;&amp; Game[&apos;Map&apos;][Y-2][X+2] == 1) { Score++; }\r<br />           else if (Game[&apos;Map&apos;][Y+2][X-2] == 2 &amp;&amp; Game[&apos;Map&apos;][Y+1][X-1] == 2 &amp;&amp; Game[&apos;Map&apos;][Y][X] == 2 &amp;&amp; Game[&apos;Map&apos;][Y-1][X+1] == 2 &amp;&amp; Game[&apos;Map&apos;][Y-2][X+2] == 2) { Score++; }\r<br />   }\r<br />  }\r<br />        return (Score &gt; 0) ? 1 : 0; \r<br />    },\r<br />};\r<br />const Game =\r<br />{\r<br /> X : 0, Y : 0,    \r<br /> Trun : 1,    \r<br /> Power : 0,     \r<br /> Player : [],\r<br /> First : 0,\r<br /> \r<br /> Start : 0, \r<br /> \r<br /> /* 여기에 자기 스크립트 이름을 넣어주세요 ┐*/ \r<br /> Restart : function() { Api.compile(&quot;게임.js&quot;); }, \r<br /> Map : \r<br /> [\r<br />  [0,0,0,0,0,0,0,0,0,0,0,0,0,0,5],\r<br />  [0,0,0,0,0,0,0,0,0,0,0,0,0,0,5],\r<br />  [0,0,0,0,0,0,0,0,0,0,0,0,0,0,5],\r<br />  [0,0,0,0,0,0,0,0,0,0,0,0,0,0,5],\r<br />  [0,0,0,0,0,0,0,0,0,0,0,0,0,0,5],\r<br />  [0,0,0,0,0,0,0,0,0,0,0,0,0,0,5],\r<br />  [0,0,0,0,0,0,0,0,0,0,0,0,0,0,5],\r<br />  [0,0,0,0,0,0,0,0,0,0,0,0,0,0,5],\r<br />  [0,0,0,0,0,0,0,0,0,0,0,0,0,0,5],\r<br />  [0,0,0,0,0,0,0,0,0,0,0,0,0,0,5],\r<br />  [0,0,0,0,0,0,0,0,0,0,0,0,0,0,5],\r<br />  [0,0,0,0,0,0,0,0,0,0,0,0,0,0,5],\r<br />  [0,0,0,0,0,0,0,0,0,0,0,0,0,0,5],\r<br />  [0,0,0,0,0,0,0,0,0,0,0,0,0,0,5],\r<br />  [4,4,4,4,4,4,4,4,4,4,4,4,4,4,6]\r<br /> ],\r<br /> Set_Map : function(X, Y)\r<br /> {\r<br />  Game.X = X;\r<br />  Game.Y = Y;\r<br />  Game.Map[Y-1][X-1] = (Game.Trun == 1) ? 1 : 2 ; \r<br />  Game.Trun = (Game.Trun == 1) ? 2 : 1 ; \r<br />  (Check.Win()) ? Print.Win() : Print.Event_Map(); \r<br /> },\r<br />};\r<br />const Print =\r<br />{\r<br /> Map : function() \r<br /> { \r<br />  var Vertical = [&quot;①&quot;,&quot;②&quot;,&quot;③&quot;,&quot;④&quot;,&quot;⑤&quot;,&quot;⑥&quot;,&quot;⑦&quot;,&quot;⑧&quot;,&quot;⑨&quot;,&quot;⑩&quot;,&quot;⑪&quot;,&quot;⑫&quot;,&quot;⑬&quot;,&quot;⑭&quot;,&quot;⑮&quot;];\r<br />  var Horizontal = &quot;⊙①②③④⑤⑥⑦⑧⑨⑩⑪⑫⑬⑭⑮\\n&quot;;\r<br />  var Map = &quot;&quot; + Horizontal;\r<br />  var Num = 0;\r<br />  \r<br />  for (var X = 0 ; X &lt; 15 ; X++)\r<br />  {\r<br />   for (var Y = 0 ; Y &lt; 15 ; Y++)\r<br />   { \r<br />    if (!Y) \r<br />    {\r<br />     Map += Vertical[Num++]; \r<br />    }\r<br />   }\r<br />   Map += Game.Map[X];\r<br />   if(X != 14) \r<br />   { \r<br />    Map += &quot;\\n&quot;; \r<br />   }\r<br />  }\r<br />  return (&quot;\\n\\n현재 순서 : &quot; + ((Game.Trun == 1) ? &quot;흑&quot; : &quot;백&quot;) + &quot;\\n\\n&quot; + Map.replace(/,/g,&quot;&quot;).replace(/0/g,&quot;╋&quot;).replace(/1/g,&quot;●&quot;).replace(/2/g,&quot;○&quot;).replace(/4/g,&quot;┻&quot;).replace(/5/g,&quot;┫&quot;).replace(/6/g,&quot;┛&quot;)); \r<br /> },\r<br /> Event_Map : function() { Bot.Message(&quot;좌표 ( &quot; + Game.X + &quot; , &quot; + Game.Y + &quot; ) 에 돌을 두었습니다.&quot; + Print.Map()); },\r<br /> Start_Map : function() { Bot.Message(&quot;게임을 시작합니다.&quot; + Print.Map()); },\r<br /> Win : function()\r<br /> {\r<br />  Bot.Message(Print.Map().substring(2, Print.Map().length));\r<br />  Bot.Message(&quot;승자는 &quot; + ((Game.Trun == 2) ? &quot;흑&quot; : &quot;백&quot;) + &quot; 을 두신 &quot; + ((Game.Trun == 2) ? Game.Player[0] : Game.Player[1]) + &quot; 님 입니다!&quot;);\r<br />  Game.Restart();\r<br /> },\r<br />};\r<br />function response(Room, Message, Sender, isGroupChat, replier)\r<br />{Bot.Message=(str)=&gt;{replier.reply(str);};try{\r<br /> switch(Message.trim())\r<br /> {\r<br />  case &quot;:오목시작&quot; : \r<br />   if (Game.Start) { Bot.Message(&quot;이미 게임이 진행중입니다.&quot;);break; }\r<br />   else\r<br />   {\r<br />    Bot.Message(Sender + &quot;님이 게임을 시작하였습니다.\\n\\n게임 참가를 원하시면 \\&quot;:오목참가\\&quot;를 입력 해 주세요.&quot;);\r<br />    Game.Player.push(Sender);\r<br />    Game.Start = true;\r<br />   }\r<br />   break; \r<br />  case &quot;:오목참가&quot; :\r<br />   if (!Game.Start) { Bot.Message(&quot;진행중인 게임이 없습니다.&quot;);break; }\r<br />   else if (Game.Player.length &gt;= 2) { Bot.Message(&quot;인원이 초과되었습니다.&quot;);break; }\r<br />   else\r<br />   {\r<br />    Game.Player.push(Sender);\r<br />    Bot.Message(Sender + &quot;님이 게임에 참가하였습니다.&quot;);\r<br />    Game.First = true;\r<br />    Game.Power = true;\r<br />   }\r<br />   break;\r<br />  case &quot;:재부팅&quot; :\r<br />   if(Sender == &quot;L&#1161;e&#1161;e&#1161;g&#1161;i&#1161;g&#1161;a&#1161;n&#1161;g&#1161;&quot;) \r<br />   { \r<br />    Bot.Message(&quot;관리자의 요청으로 시스템을 재부팅합니다. \\n&quot; + &quot;3초 뒤 시작해주세요&quot;);\r<br />    Game.Restart(); \r<br />   }\r<br />   break;\r<br />  case &quot;:판&quot; : Bot.Message(Print.Map().substring(2, Print.Map().length));break;\r<br /> }\r<br /> if(Game.Power)\r<br /> {\r<br />  if(Game.First)\r<br />  {\r<br />   Bot.Message\r<br />   (\r<br />     &quot;! X좌표(가로), Y좌표(세로)로 돌을 둘 수 있습니다.\\n&quot; + \r<br />     &quot;Ex ) ! 4 3 \\n\\n&quot; + \r<br />     &quot;흑 : &quot; + Game.Player[0] + &quot;님\\n&quot; + \r<br />      &quot;백 : &quot; + Game.Player[1] + &quot;님&quot;\r<br />   );\r<br />   Print.Start_Map();\r<br />   Game.First = false;\r<br />  }\r<br />  if(Sender == Game.Player[0] &amp;&amp; Game.Trun == 1)\r<br />  {\r<br />   if(Message.split(&quot; &quot;)[0] == &quot;!&quot;)\r<br />   {\r<br />    var X = Number(Message.split(&quot; &quot;)[1]);\r<br />    var Y = Number(Message.split(&quot; &quot;)[2]);\r<br />    if(Check.XY(X, Y)) { Game.Set_Map(X, Y); }\r<br />   } \r<br />  }\r<br />  if(Sender == Game.Player[1] &amp;&amp; Game.Trun == 2)\r<br />  {\r<br />   if(Message.split(&quot; &quot;)[0] == &quot;!&quot;)\r<br />   {\r<br />    var X = Number(Message.split(&quot; &quot;)[1]);\r<br />    var Y = Number(Message.split(&quot; &quot;)[2]);\r<br />    if(Check.XY(X, Y)) { Game.Set_Map(X, Y); }\r<br />   } \r<br />  }\r<br /> }}\r<br /> catch(e) { Bot.Message(&quot;Error : &quot; + e.name + &quot;\\n\\nContent : &quot; + e.message + &quot;\\n\\nLine : &quot; + e.lineNumber); }\r<br />}\r<br />function response(room, msg, sender, isGroupChat, replier, ImageDB) {<br /><br />    if(msg.indexOf(&quot;ㅠㅠ&quot;) != -1) {<br />        replier.reply(&quot;[Google Assistant]\\n&quot; + sender + &quot;님ㅠㅅㅠ 괜찮아요??? 힘내세요!!! \\nGoogle Assistant가 있잖아요!!!&#128513;&quot;);<br />    }<br />    if(msg.indexOf(&quot;ㅋㅋ&quot;) != -1) {<br />        replier.reply(&quot;[Google Assistant] 넘 웃기네욬ㅋㅋㅋㅋㅋ&#129315;&#129315;&#129315;&#129315;&#129315;&#129315;&quot;);<br />    }<br />const Bot = {};<br /><br />const Check = <br />{<br /> BaseWord : function(Word, WordList, LastChar, IsFirst) // 기본 검사 (단어, 단어 리스트, 마지막 글자, 처음 시작 전원) <br /> {<br />  if (!Word || !(Word.length - 1)) { Bot.Message(&quot;단어를 입력 해 주세요.&quot;); return false; } // 단어 입력을 안하거나 1글자만 입력할때 ex : 사과 -&gt; 과 일 경우 통과방지 <br />  else if (WordList.indexOf(Word) != -1) { Bot.Message(&quot;이미 사용한 단어 입니다.&quot;); return false; } // 단어 중복 방지 <br />  else if (Word.charAt(0) != LastChar) { if (IsFirst) return true; else { Bot.Message(LastChar + &quot;로 시작하는 단어를 입력 해 주세요.&quot;); return false; } } // 끝글자와 첫 글자가 다른 경우 ex : 사&quot;과&quot; -&gt; &quot;과&quot;로 시작하는게 아닐 시 <br />  else return true;<br /> },<br /> SearchWord : function(Word) // 단어 검색 <br /> {<br />  var Link = Utils.getWebText(&quot;https://opendict.korean.go.kr/search/searchResult?focus_name=query&amp;query=&quot; + Word + &quot;&amp;dicType=1&amp;wordMatch=Y&quot;);<br />  var Data = Link.replace(/&lt;(.+?)&gt;/g,&quot;&quot;); <br /><br />  var IsWord = false; <br />  var Num = 1;<br />  <br />  while(Num &lt; 11)<br />  {<br />   if (Data.match(&quot;「00&quot; + Num + &quot;」&quot;) != null)<br />   { <br />    IsWord = true;<br />    break;<br />   }<br />   else Num ++;<br />  }<br />  return IsWord;<br /> },<br /> CoreWord : function(Word, Player, Turn, Life, IsFirst) // (단어, 플레이어, 차례, 라이프, 처음 시작 전원) <br /> {<br />  /* 처음 시작 할 때 */ <br />  if (IsFirst)<br />  {<br />   if (Check.SearchWord(Word))<br />   {<br />    Game.First = false;<br />    Game.WordEvent(Word, Turn + 1);<br />   }<br />   else Bot.Message(&quot;사전에 등록되지 않은 단어입니다.&quot;);<br />  } <br />  else <br />  {<br />   if (Check.SearchWord(Word)) Game.WordEvent(Word, Turn + 1);<br />   else<br />   {<br />    Game.Life[Turn] -= 1;<br />    <br />    if (!Life[Turn])<br />    {<br />     Game.TurnEvent(Game.Player.length, Turn);<br />     <br />     if (Player.length == 2) // 1 대 1 상황일 경우 게임 종료 <br />     {<br />      Bot.Message(&quot;라이프가 0이 되어 게임을 종료합니다.\\n\\n승자는 [ &quot; + Player[Turn + 1] + &quot; ] 님 입니다!&quot;);   <br />                        Api.compile(&quot;이름.js&quot;); /* &lt;-  &quot;끝말잇기.js&quot; */    <br />     }<br />     else<br />     {<br />      Bot.Message(&quot;[ &quot; + Player[Turn] + &quot; ] 님이 라이프가 0이 되어 아웃되었습니다.&quot;); <br />      var Num = Player.indexOf(Player[Turn]);<br />      Game.Player.splice(Num, 1);<br />      Game.Life.splice(Num, 1);<br />     } <br />    } <br />    else Bot.Message(&quot;사전에 등록되지 않은 단어입니다.\\n[ &quot; + Player[Turn] + &quot; ] 님의 라이프가 1 감소합니다.\\n\\n남은 라이프 : &quot; + Life[Turn]);<br />   } <br />  }<br /> },<br />};<br />const Game =<br />{<br /> Life : [2, 2, 2, 2],<br /> <br /> Turn : 1,<br /> Player : [],<br /> <br /> Start : false,<br /> Power : false,<br /> First : true,<br /> Room : false,<br /><br /> LastChar : &quot;&quot;,<br /> <br /> Mode : 0,<br /> WordList : [],<br /> <br /> WordEvent : function(Word, Turn)<br /> {<br />  Game.LastChar = Word.substr(Word.length - 1);<br />  Game.TurnEvent(Game.Player.length, Turn);<br />  Game.WordList.push(Word);<br />  Bot.Message(&quot;true&quot;);<br /> }, <br /> TurnEvent : function(PlayerNum, Turn)<br /> {<br />  Game.Turn = (Turn == PlayerNum) ? 1 : Turn + 1;<br /> },<br />};<br />function response(Room, Message, Sender, isGroupChat, replier)<br />{<br /> try {<br /> Bot.Message = (str) =&gt; replier.reply(str);<br /> var Input = Message.split(&quot; &quot;)[0];<br /> <br /> switch (Input)<br /> {<br />  case &quot;:끝말잇기방만들기&quot; : if (Game.Room) Bot.Message(&quot;이미 생성된 방이 있습니다.&quot;);  <br />   else<br />   {<br />    Game.Player.push(Sender); <br />    Game.Room = true;<br />    <br />    Bot.Message(&quot;[ &quot; + Sender + &quot; ] 님이 끝말잇기 방을 생성하였습니다.\\n\\n게임 참가를 원하시면 \\&quot;:참가\\&quot;를 입력 해 주세요.&quot;);<br />   }<br />   break; <br />  case &quot;:끝말잇기시작&quot; : if (!Game.Room) Bot.Message(&quot;생성된 방이 없습니다.&quot;);<br />   else if (2 &gt; Game.Player.length) Bot.Message(&quot;2명 이상이 되어야 게임 시작이 가능합니다.&quot;);<br />   else<br />   {<br />    var Array = [&quot;첫번째 : &quot;, &quot;두번째 : &quot;, &quot;세번째 : &quot;, &quot;네번째 : &quot;];<br />    var Text = [];<br />    <br />    Game.Power = true;<br />    Bot.Message(&quot;게임을 시작합니다!&quot;);<br />    <br />    for (var Num in Game.Player) Text[Num] = Array[Num] + Game.Player[Num];<br />    Bot.Message(Text.join(&quot;\\n&quot;));<br />   }<br />   break;<br />  case &quot;:참가&quot; : if (!Game.Room) Bot.Message(&quot;생성된 방이 없습니다.&quot;);<br />   else if (Game.Power) Bot.Message(&quot;이미 게임이 진행중입니다.&quot;);<br />    else if (Game.Player.length &gt; 3) Bot.Message(&quot;인원이 초과되었습니다.&quot;);<br />   else<br />   {<br />    Game.Player.push(Sender); <br />    Bot.Message<br />    (<br />     &quot;[ &quot; + Sender + &quot; ] 님이 게임에 참가하셨습니다.&quot; + <br />     &quot;\\n\\n현재 참가자 : &quot; + Game.Player.join(&quot;, &quot;)<br />    );<br />   }<br />   break;<br /> } <br /> if (Game.Power)<br /> { <br />  var IsCommand = Message.substr(0, 2) == &quot;::&quot;;<br />  var Word = Message.substring(2);<br />  <br />  var Player    = Game.Player; // Array <br />  var Turn    = Game.Turn;  // Number<br />  var Life    = Game.Life;  // Array<br />  var WordList  = Game.WordList; // Array<br />  var LastChar  = Game.LastChar; // Char<br />  var IsFirst   = Game.First;  // Bool<br />  <br />  for (var Num = 0 ; Num &lt; Player.length ; Num ++) if (Sender == Player[Num] &amp;&amp; Turn == (Num + 1))<br />  if (IsCommand) (Check.BaseWord(Word, WordList, LastChar, IsFirst)) ? Check.CoreWord(Word, Player, Turn - 1, Life, IsFirst) : &quot;&quot;;<br />  <br />  switch (Input)<br />  {<br />   case &quot;:종료&quot; : <br />    Bot.Message(&quot;게임이 종료됩니다.&quot;);<br />    Api.compile(&quot;이름.js&quot;); /* &lt;-  &quot;끝말잇기.js&quot; */    <br />    break;<br />   case &quot;:단어&quot; : if (!WordList.length) Bot.Message(&quot;아직 사용한 단어가 없어요.&quot;);<br />    else Bot.Message(&quot;사용한 단어 : &quot; + WordList.length + &quot;개\\n\\n&quot; + WordList.join(&quot; : &quot;));<br />    break; <br />   case &quot;:라이프&quot; :<br />    var Text = [];<br />    for (var Num in Player) Text[Num] = Player[Num] + &quot; : &quot; + Life[Num];<br />    Bot.Message(Text.join(&quot;\\n&quot;));<br />    break;<br />  }<br /> }}<br /> catch(e) { Bot.Message(&quot;Error Code : &quot; + e.name + &quot;\\n\\nContent : &quot; + e.message + &quot;\\n\\nLine : &quot; + e.lineNumber); }<br />}<br />function response(room, msg, sender, isGroupChat, replier, imageDB) {<br /><br />if(msg == &quot;:게임순위&quot;){<br />var 게임순위 = Utils.getWebText(&quot;https://m.search.naver.com/search.naver?query=pc%EA%B2%8C%EC%9E%84+%EC%88%9C%EC%9C%84&amp;where=m&amp;sm=mob_sug.top&amp;acq=pc%EA%B2%8C%EC%9E%84&amp;acr=1&amp;qdt=0&quot;).replace(/(&lt;([^&gt;]+)&gt;)/g, &quot;&quot;).split(&quot;연관검색어도움말&quot;)[0].split(&quot;기준&quot;)[1].replace(/^ +| +$/gm, &quot;&quot;).trim().replace(&quot;\\n1&quot;,&quot;&#129351;1위 : &quot;).replace(&quot;\\n2&quot;,&quot;&#129352;2위 : &quot;).replace(&quot;\\n3&quot;,&quot;&#129353;3위 : &quot;).replace(&quot;\\n4&quot;,&quot;4위 : &quot;).replace(&quot;\\n5&quot;,&quot;5위 : &quot;).replace(&quot;\\n6&quot;,&quot;6위 : &quot;).replace(&quot;\\n7&quot;,&quot;7위 : &quot;).replace(&quot;\\n8&quot;,&quot;8위 : &quot;).replace(&quot;\\n9&quot;,&quot;9위 : &quot;).replace(&quot;\\n10&quot;,&quot;10위 : &quot;).replace(/\\n+/g, &quot;\\n&quot;)&nbsp;<br />replier.reply(게임순위);<br />}<br />}<br />}<br />  if(msg.indexOf(&quot;:날씨 &quot;) == 0 ){<br />try{<br />var 날씨지역 = msg.substring(4);<br />var 날씨 = Utils.getWebText(&quot;https://m.search.naver.com/search.naver?query=&quot;+날씨지역+&quot; 날씨&quot;).replace(/(&lt;([^&gt;]+)&gt;)/g, &quot;&quot;).split(&quot;월간&quot;)[1].split(&quot;시간별 예보&quot;)[0].replace(/^ +| +$/gm, &quot;&quot;).trim()<br />replier.reply(&quot;&#9729;&#65039;&quot;+날씨지역+&quot;의 날씨\\n\\n&quot;+날씨);<br />}catch(e){<br />replier.reply(날씨지역+&quot;이란 곳은 없습니다!\\n자세한 에러 : &quot;+e);<br />}<br />}<br /><br />if (msg == &quot;:봇정보&quot;) {<br />replier.reply(&quot;[Google Assistant]\\n배터리 충전 상태 : &quot;+Device.isCharging()+&quot;\\n&quot;+&quot;안드로이드 버전 : &quot;+Device.getAndroidVersionName()+&quot;\\n&quot;+&quot;남은 배터리 : &quot;+Device.getBatteryLevel()+&quot;\\n배터리 전압&quot;+Device.getBatteryVoltage());<br />}<br /><br />try{<br />if (msg.indexOf(&quot;:국가정보 &quot;)!=-1){<br />var r = msg.replace(&quot;:국가정보 &quot;,&quot;&quot;)<br />var html = Utils.getWebText(&quot;https://m.search.naver.com/search.naver?query=국가정보+&quot;+r+&quot;&amp;sm=mtb_hty.top&amp;where=m&amp;oquery=국가정보+&quot;+r+&quot;&amp;tqi=U5kgylp0JWlsskDWewVssssstqo-092408&quot;,&quot;Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2228.0 Safari/537.36&quot;,false,false).split(&apos;&lt;span class=&quot;nt_txt&quot;&gt;&apos;)[1].split(&quot;&lt;/span&gt;&lt;/strong&gt;&quot;)[0]<br />var name = html.split(&apos;&lt;/span&gt;&lt;span class=&quot;eng&quot;&gt;&apos;)[0]<br />var city = html.split(&apos;class=&quot;city_name&quot;&gt;&apos;)[1].split(&quot;&lt;/a&gt;&quot;)[0]<br />var m2 = html.split(&quot;&lt;dd&gt;&quot;)[3].split(&apos;&lt;a nocr onclick=&quot;return&apos;)[0].replace(/\\n/g,&quot;&quot;).replace(/ /g,&quot;&quot;)<br />var human = html.split(&quot;&lt;dd&gt;&quot;)[4].split(&apos;&lt;a nocr onclick=&quot;return&apos;)[0].replace(/\\n/g,&quot;&quot;).replace(/ /g,&quot;&quot;)<br />var m21 = html.split(&quot;위&quot;)[0].split(&quot;세계&quot;)[1].replace(/ /g,&quot;&quot;)<br />var human1 = html.split(&quot;위&quot;)[1].split(&quot;세계&quot;)[1].replace(/ /g,&quot;&quot;)<br />if (html.indexOf(&quot;GDP&quot;)!=-1){<br />var gdp = html.split(&quot;&lt;dd&gt;&quot;)[5].split(&apos;&lt;a nocr onclick=&quot;return&apos;)[0].replace(/\\n/g,&quot;&quot;).replace(/ /g,&quot;&quot;)<br />var gdp1 = html.split(&quot;위&quot;)[2].split(&quot;세계&quot;)[1].replace(/ /g,&quot;&quot;)<br />}else{<br />var gdp = &quot;자료 없음&quot;<br />}<br />if (html.indexOf(&quot;환율&quot;)!=-1){<br />var money = html.split(&quot;&lt;dd&gt;&quot;)[6].split(&apos;&lt;a nocr onclick=&quot;return&apos;)[0].replace(/\\n/g,&quot;&quot;).replace(/ /g,&quot;&quot;)<br />}else{<br />var money = &quot;자료 없음&quot;<br />}<br />replier.reply(&quot;[Google Assistant]\\n《&quot;+name+&quot;》\\n수도: &quot;+city+&quot;\\n면적 : &quot;+m2+&quot; 세계&quot;+m21+&quot;위\\n인구 : &quot;+human+&quot; 세계&quot;+human1+&quot;위\\nGDP : &quot;+gdp+&quot; 세계&quot;+gdp1+&quot;위\\n환율 : &quot;+money)<br />}<br />}catch (e){<br />replier.reply(&quot;국가정보가 없습니다&quot;)<br />}<br /><br />var x = msg.split(&quot;&times;&quot;);//x를 기준으로 나눔<br />var m = msg.split(&quot;-&quot;);//-를 기준으로 나눔<br />var n = msg.split(&quot;&divide;&quot;);//&divide;를 기준으로 나눔<br />var p = msg.split(&quot;+&quot;);//+를 기준으로 나눔<br /><br />if (msg.indexOf(&quot;&times;&quot;)!=-1) {//&times;가 들어가면<br />var A = Number(x[0]) * Number(x[1]);//계산<br />replier.reply(&quot;계산 중 입니다...&quot;)<br />java.lang.Thread.sleep(2000);//2초 기다리기<br />replier.reply(&quot;계산 결과입니다.\\n&quot;+ A)<br />}//다른것도 비슷함<br />if (msg.indexOf(&quot;+&quot;)!=-1) {<br />var A = Number(p[0]) + Number(p[1]);<br />replier.reply(&quot;계산 중 입니다...&quot;)<br />java.lang.Thread.sleep(2000);<br />replier.reply(&quot;계산 결과입니다.\\n&quot;+A)<br />}<br />if (msg.indexOf(&quot;-&quot;)!=-1) {<br />var A = Number(m[0]) - Number(m[1]);<br />replier.reply(&quot;계산 중 입니다...&quot;)<br />java.lang.Thread.sleep(2000);<br />replier.reply(&quot;계산 결과입니다.\\n&quot;+A)<br />}<br />if (msg.indexOf(&quot;&divide;&quot;)!=-1) {<br />var A = Number(n[0]) / Number(n[1]);<br />replier.reply(&quot;계산 중 입니다...&quot;)<br />java.lang.Thread.sleep(2000);<br />replier.reply(&quot;계산 결과입니다.\\n&quot;+A)<br />}<br />if(msg==&quot;:영화순위&quot;){<br />var 영화 = Utils.getWebText(&quot;\\n200https://m.search.naver.com/search.naver?query=%EC%98%81%ED%99%94%EC%88%9C%EC%9C%84&amp;sm=mtb_sug.top&amp;where=m&amp;oquery=%EC%88%9C%EC%9C%84&amp;tqi=U7nr4dpVuoossc8zGG8sssssttC-520183&amp;acq=%EC%88%9C%EC%9C%84&amp;acr=1&amp;qdt=0&quot;).replace(/(&lt;([^&gt;]+)&gt;)/g, &quot;&quot;).split(&quot;평점순&quot;)[1].split(&quot;출처 : 영화진흥위원회&quot;)[0].replace(/전체 관람가/g,&quot;등급 : &#128104;&zwj;&#128105;&zwj;&#128102;&zwj;&#128102;전체 이용가\\n영화 이름 : &quot;).replace(/청소년 관람불가/g,&quot;등급 : &#128286;청소년 관람불가&#128286;\\n영화 이름 : &quot;).replace(/15세 관람가/g,&quot;등급 : 15세 관람가\\n영화 이름 : &quot;).replace(/12세 관람가/g,&quot;등급 : 12세 관람가\\n영화 이름 : &quot;).replace(/^ +| +$/gm, &quot;&quot;).trim().replace(&quot;1\\n&quot;,&quot;&#129351;1위 : &quot;).replace(&quot;2\\n&quot;,&quot;&#129352;2위 : &quot;).replace(&quot;3\\n&quot;,&quot;&#129353;3위 : &quot;).replace(&quot;4\\n&quot;,&quot;4위 : &quot;).replace(&quot;5\\n&quot;,&quot;5위 : &quot;).replace(&quot;6\\n&quot;,&quot;6위 : &quot;).replace(&quot;7\\n&quot;,&quot;7위 : &quot;).replace(&quot;8\\n&quot;,&quot;8위 : &quot;).replace(&quot;9\\n&quot;,&quot;9위 : &quot;).replace(&quot;10\\n&quot;,&quot;10위 : &quot;).replace(/\\n+/g, &quot;\\n&quot;).replace(/명\\n/g,&quot;명\\n\\n&quot;).replace(/관람수\\n/g,&quot;관람수 : &quot;)<br />replier.reply(영화)<br />}<br />var a = [];<br />var b = [];<br />var c = false;<br /><br /><br />if(msg == &quot;:넌센스퀴즈&quot;){<br />var data = Utils.getWebText(&quot;https://m.search.naver.com/search.naver?where=m&amp;ie=utf8&amp;query=%EB%84%8C%EC%84%BC%EC%8A%A4%ED%80%B4%EC%A6%88&amp;sm=mob_hty.idx&quot;);<br />data = data.replace(/(&lt;([^&gt;]+)&gt;)/g, &quot;&quot;).split(&quot;넌센스 QUIZ&quot;)[1].replace(/\\n/g,&quot;&quot;).split(&quot; 문제&quot;)[1].replace(&quot; 확인 정답보기 &quot;,&quot;&quot;);<br />var 문제 = data.split(&quot;:힌트보기&quot;)[0].replace(/ /g,&quot;&quot;);<br />var 답 = data.split(&quot;:정답 &quot;)[1].split(&quot; &quot;)[0];<br />var 힌트 = data.split(&quot;:힌트보기 &quot;)[1].split(&quot; 정답 &quot;)[0];<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;replier.reply(문제)<br />replier.reply(&quot;:정답 으로 정답을 표시해주세요&quot;)<br />replier.reply(&quot;*문제 포기 와 *문제 힌트 기능도 있습니다.&quot;)<br />a.push(답);<br />b.push(힌트);<br />c = true;<br />}<br />if(msg.indexOf(&quot;:정답 &quot;) == 0){<br />if(c == true){<br />var d = msg.replace(&quot;:정답 &quot;,&quot;&quot;);<br />if(a != d){<br />replier.reply(&quot;틀렸어요ㅜㅜ&quot;);<br />}<br /><br />if(a == d){<br />replier.reply(sender + &quot;님이 맞추셨어요!!\\n정답은 &quot; + a + &quot; 이였답니다!&quot;)<br />a = [];<br />b = [];<br />}<br />}<br />if(c == false){<br />replier.reply(&quot;게임이 시작되지 않았습니다.&quot;)<br /><br />}<br />}<br />if(msg == &quot;:문제 포기&quot;){<br />if(c == false){<br />replier.reply(&quot;아직 문제를 내지 않았습니다.&quot;)<br /><br />}<br />if(c == true){<br />replier.reply(&quot;넌센스퀴즈를 실패하였습니다.\\n정답은 &quot; + a + &quot; 이였습니다.&quot;)<br />c = false<br />a = [];<br />b = [];<br />}<br />}<br />if(msg == &quot;:문제 힌트&quot;){<br />if(c == false){<br />replier.reply(&quot;아직 문제을 내지 않았습니다&quot;)<br />}<br />if(c == true){<br />replier.reply(&quot;문제 힌트입니다. &quot; + b)<br />}<br />}<br />    if(msg.trim()==&quot;:시계&quot;){<br />    var day = new Date();<br />    var h = String(day.getHours());<br />    var m = String(day.getMinutes());<br />    if(h&lt;=9){<br />        h = &apos;0&apos;+h;<br />    }<br />    if(m&lt;9){<br />            m = &apos;0&apos;+m;<br />    }<br />    var ze = [&apos;■■■&apos;,&apos;■□■&apos;,&apos;■□■&apos;,&apos;■□■&apos;,&apos;■■■&apos;];<br />    var o = [&apos;□□■&apos;,&apos;□□■&apos;,&apos;□□■&apos;,&apos;□□■&apos;,&apos;□□■&apos;];<br />    var t = [&apos;■■■&apos;,&apos;□□■&apos;,&apos;■■■&apos;,&apos;■□□&apos;,&apos;■■■&apos;];<br />    var th = [&apos;■■■&apos;,&apos;□□■&apos;,&apos;■■■&apos;,&apos;□□■&apos;,&apos;■■■&apos;];<br />    var f = [&apos;■□■&apos;,&apos;■□■&apos;,&apos;■■■&apos;,&apos;□□■&apos;,&apos;□□■&apos;];<br />    var fi = [&apos;■■■&apos;,&apos;■□□&apos;,&apos;■■■&apos;,&apos;□□■&apos;,&apos;■■■&apos;];<br />    var s = [&apos;■■■&apos;,&apos;■□□&apos;,&apos;■■■&apos;,&apos;■□■&apos;,&apos;■■■&apos;];<br />    var se = [&apos;■■■&apos;,&apos;□□■&apos;,&apos;□□■&apos;,&apos;□□■&apos;,&apos;□□■&apos;];<br />    var e = [&apos;■■■&apos;,&apos;■□■&apos;,&apos;■■■&apos;,&apos;■□■&apos;,&apos;■■■&apos;];<br />    var n = [&apos;■■■&apos;,&apos;■□■&apos;,&apos;■■■&apos;,&apos;□□■&apos;,&apos;■■■&apos;];<br />    var ca = {&apos;0&apos;:ze,&apos;1&apos;:o,&apos;2&apos;:t,&apos;3&apos;:th,&apos;4&apos;:f,&apos;5&apos;:fi,&apos;6&apos;:s,&apos;7&apos;:se,&apos;8&apos;:e,&apos;9&apos;:n};<br />    var time1 = ca[h[0]];var time2 = ca[h[1]];var time3 = ca[m[0]];var time4 = ca[m[1]];<br />    var hli = &quot;&quot;;<br />    for(var i=0;i&lt;5;i++){<br />        if(i==&apos;1&apos;||i==&apos;3&apos;){<br />        hli += time1[i]+&apos; &apos;+time2[i]+&apos;  &#9608;  &apos;+time3[i]+&apos; &apos;+time4[i]+&quot;\\n&quot;<br />        } else {<br />            hli += time1[i]+&apos; &apos;+time2[i]+&apos;  &#9617;  &apos;+time3[i]+&apos; &apos;+time4[i]+&quot;\\n&quot;<br />        }<br />    }<br />    hli = hli.replace(/□/g,&quot;&#9617;&quot;).replace(/■/g,&quot;&#9608;&quot;)<br />    replier.reply(hli+&quot;[현재 &quot;+h+&quot;시 &quot;+m+&quot;분 입니다.]&quot;)<br />    }<br /><br />   if(msg.indexOf(&quot;:노래가사 &quot;) == 0 ){<br />try{<br />var 가사1 = msg.substring(6);<br />var 가사 = Utils.getWebText(&quot;https://m.search.daum.net/search?nil_profile=simpleurl&amp;w=tot&amp;q=&quot;+가사1+&quot; 가사&quot;).replace(/(&lt;([^&gt;]+)&gt;)/g, &quot;&quot;).split(&quot;가사보기&quot;)[1].split(&quot;가사접기&quot;)[0].replace(/^ +| +$/gm, &quot;&quot;).replace(&quot;Melon&quot;,&quot;&quot;);<br />replier.reply(가사);<br />}catch(e){<br />replier.reply(가사1+&quot;이란 노래는 없습니다!\\n자세한 에러 : &quot;+e);<br />}<br />}<br /><br />    if(msg.indexOf(&quot;:단어&quot;)==0){<br />var u = Utils.getWebText(&quot;https://opendict.korean.go.kr/search/searchResult?focus_name=query&amp;query=&quot;+msg.substr(3));<br />var i = true<br />var po = u.replace(/&lt;(.+?)&gt;/g,&quot;&quot;)<br />var count = 1;<br />var list = msg.substr(3)+&quot;의 검색 결과\\n&quot;<br />while(i){<br />    var num = &quot;「&quot;+&quot;00&quot;+String(count)+&quot;」&quot;<br />    if(po.match(&quot;「&quot;+&quot;00&quot;+String(count)+&quot;」&quot;)!==null){<br />        list += num+u.split(num)[1].split(&quot;&lt;/a&gt;&quot;)[0].replace(/&lt;(.+?)&gt;/g,&quot;&quot;)+&quot;\\n&quot;<br />        count++<br />    } else {<br />        break;<br />    }<br />}<br />replier.reply(list+&quot;검색 결과:&quot;+(count-1))<br />}<br />  <br />if(msg==&quot;:리로드&quot;){<br />replier.reply(&quot;[ Google Assistant]\\n리로드가 완료되었습니다..&quot;+Api.compile())<br />}<br /><br />if(msg.indexOf(&quot;:버스&quot;) ==0){&nbsp; //버스 명령어&nbsp;<br />&nbsp;&nbsp;&nbsp; var search = msg.split(&quot; &quot;)[0];<br />&nbsp;&nbsp;&nbsp; if(search == msg){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; replier.reply(&quot;띄어쓰기로 구분좀요&quot;);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return;<br />&nbsp;&nbsp;&nbsp; }<br />&nbsp;&nbsp;&nbsp; msg = msg.replace(/번/g,&quot;&quot;)<br />&nbsp;&nbsp;&nbsp; msg = msg.replace(/ +/g,&quot; &quot;)<br />&nbsp;&nbsp;&nbsp; search = msg.substring(4)<br />&nbsp;&nbsp;&nbsp; var url = &quot;https://search.naver.com/search.naver?sm=top_hty&amp;fbm=1&amp;ie=utf8&amp;query=&quot;+search+&quot;번 버스&quot;<br />&nbsp;&nbsp;&nbsp; text =&quot;&quot;<br />&nbsp;try{&nbsp; <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var stn =[]<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var stn_name =[]<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var ar_stn = []<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; text = &quot;--&quot;+search+&quot;번 실시간 정보--&quot;+ &quot;\\u200b&quot;.repeat(500)+&quot;\\n\\n&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var link = Utils.getWebText(url)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var imf = link.split(&quot;https://map.naver.com/?busId=&quot;)[1].split(&quot;\\&quot;&quot;)[0]&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var arrive =Utils.getWebText(&quot;https://s.search.naver.com/n/api.pubtrans.map/2.0/live/getBusLocation.jsonp?_callback=window.__jindo2_callback._bus_location_list_0&amp;caller=pc_search&amp;routeId=&quot;+imf).split(&quot;busLocationList\\&quot;:&quot;)[1]<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var stop = &quot;https://s.search.naver.com/p/mlocation/map/api2/getBusDetailInfo.nhn?_callback=window.__jindo2_callback._bus_detail_info_0&amp;output=json&amp;caller=pc_search&amp;includeCompanyInfo=true&amp;doSeparateSection=true&amp;includeNonStopBusStops=true&amp;busID=&quot;+imf<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(arrive !=undefined){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; arrive = arrive.split(&quot;stationId\\&quot;:\\&quot;&quot;)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(var i = 0; i&lt;arrive.length; i++){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ar_stn.push(arrive[i].split(&quot;\\&quot;,\\&quot;station&quot;)[0])<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var stop_link = Utils.getWebText(stop)//Made by 이긴라면<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var start =stop_link.split(&quot;busStartPoint\\&quot;:\\&quot;&quot;)[1].split(&quot;\\&quot;,&quot;)[0]<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var end =stop_link.split(&quot;busEndPoint\\&quot;:\\&quot;&quot;)[1].split(&quot;\\&quot;,&quot;)[0]<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var time =stop_link.split(&quot;busInterval\\&quot;:\\&quot;&quot;)[1].split(&quot;\\&quot;,&quot;)[0]<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var time =stop_link.split(&quot;busInterval\\&quot;:\\&quot;&quot;)[1].split(&quot;\\&quot;,&quot;)[0]<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var st_t =stop_link.split(&quot;busFirstTime\\&quot;:\\&quot;&quot;)[1].split(&quot;\\&quot;,&quot;)[0]<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var end_t=stop_link.split(&quot;busLastTime\\&quot;:\\&quot;&quot;)[1].split(&quot;\\&quot;,&quot;)[0]<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var loc =stop_link.split(&quot;busCityName\\&quot;:\\&quot;&quot;)[1].split(&quot;\\&quot;,&quot;)[0]<br />&nbsp;&nbsp;&nbsp;&nbsp; // replier.reply(start+end)<br />&nbsp;&nbsp;&nbsp;&nbsp; var stop_n = stop_link.split(&quot;stationID\\&quot;:\\&quot;&quot;)<br />&nbsp;&nbsp;&nbsp;&nbsp; text+= &quot;※버스정보※\\n지역 : &quot;+ loc+&quot;\\n기점 :&quot;+start+&quot;&nbsp; 종점 : &quot;+ end+&quot;\\n배차간격 : &quot;+time+&quot;분\\n&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp; text += &quot;첫차시각 : &quot; +st_t +&quot;&nbsp;&nbsp; 막차시각&quot;+end_t+&quot;\\n\\n&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp; text += &quot;총 &quot;+ar_stn.length+&quot;대 운영중\\n\\n&quot;;<br />&nbsp;&nbsp;&nbsp;&nbsp; stop_n.shift()<br /><br />&nbsp;&nbsp;&nbsp;&nbsp; for(var i = 0; i&lt;stop_n.length; i++){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var name = stop_n[i].split(&quot;stationDisplayName\\&quot;:\\&quot;&quot;)[1].split(&quot;\\&quot;,&quot;)[0]<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var stop_num = stop_n[i].split(&quot;\\&quot;,\\&quot;isNonStop&quot;)[0]<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; stn_name.push(name)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; stn.push(stop_num)<br />&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp; //저는 봇에 대핫 초보개발자 입니다.<br />&nbsp;&nbsp;&nbsp;&nbsp; for(var i =0 ; i&lt;stn.length; i++){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(ar_stn.indexOf(stn[i]) !=-1){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; text +=&quot;▼&nbsp;&nbsp; ※&quot;+stn_name[i]+&quot;※\\n&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; text +=&quot;▽&nbsp;&nbsp; ※&quot;+stn_name[i]+&quot;※\\n&quot;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br />&nbsp;&nbsp;&nbsp;&nbsp; }<br /><br />&nbsp;&nbsp;&nbsp;&nbsp; replier.reply(text)<br />&nbsp;}<br />&nbsp;catch(e){<br />&nbsp;&nbsp;&nbsp; replier.reply(&quot;버스정보가 없습니다.\\n 상세검색을 위해 지역을 입력해주세요.\\n.버스 서울 1&quot;)<br />}<br />}<br />if (msg == &quot;:실검&quot;){<br />var 파싱=Utils.getWebText(&quot;https://www.naver.com&quot;)<br />var result=[];<br />for(var i=1;i&lt;21;i++) {<br />if(i!=20) {<br />result.push(i+&quot;위 : &quot;+파싱.split(i+&quot;&lt;/span&gt;&quot;)[1].split(String(Number(i)+1)+&quot;&lt;/span&gt;&quot;)[0].replace(/(&lt;([^&gt;]+)&gt;)/g, &quot;&quot;).trim());<br />} else {<br />result.push(&quot;20위 : &quot;+Utils.getWebText(&quot;https://www.naver.com&quot;).split(&quot;20&lt;/span&gt;&quot;)[1].split(&quot;&lt;/li&gt;&quot;)[0].replace(/(&lt;([^&gt;]+)&gt;)/g, &quot;&quot;).trim())<br />}}<br />replier.reply(&quot;[Google Assistant] 실시간 급상승 검색어입니다!\\n\\n&quot;+result.join(&quot;\\n&quot;));<br />  }<br />&nbsp; &nbsp; msg = msg.trim()<br />&nbsp; &nbsp; if (msg.indexOf(&quot;:번역&quot;) == 0) {<br />&nbsp; &nbsp; &nbsp; &nbsp; a = msg.split(&quot; &quot;)[1]<br />&nbsp; &nbsp; &nbsp; &nbsp; b = msg.split(&quot; &quot;)[2]<br />&nbsp; &nbsp; &nbsp; &nbsp; c = msg.replace(&quot;:번역 &quot; + a + &quot; &quot; + b, &quot;&quot;)<br />&nbsp; &nbsp; &nbsp; &nbsp; try {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Api.replyRoom(room, Api.papagoTranslate(a, b, c))<br />&nbsp; &nbsp; &nbsp; &nbsp; } catch (e) {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Api.replyRoom(room, &quot;번역에 실패했어요...ㅠ&quot;)<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; }<br /><br />&nbsp; &nbsp;&nbsp;msg = msg.trim()<br />&nbsp; &nbsp;&nbsp;if (msg == &quot;:기름&quot;) {<br />&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Api.replyRoom(room, Utils.getWebText(&quot;https://m.search.naver.com/search.naver?&amp;query=%EC%9C%A0%EA%B0%80&quot;).replace(/(&lt;([^&gt;]+)&gt;)/g, &quot;&quot;).split(&quot;원자재&quot;)[1].split(&quot;(function&quot;)[0].replace(/^ +/gm, &quot;&quot;).replace(/\\n\\n/g, &quot;&quot;).replace(/\\d\\d\\.\\d\\d.\\n/g, &quot;&quot;).replace(/\\%/g, &quot;\\%\\n\\n&quot;).replace(/^ +/gm, &quot;&quot;).trim());<br />&nbsp; &nbsp;&nbsp;}<br /><br />if&nbsp;(msg.indexOf(&quot;:쇼핑&quot;)==0) {<br /><br />&nbsp; var html = Utils.getWebText(&quot;https://msearch.shopping.naver.com/search/all.nhn?origQuery=gtx1080&amp;pagingIndex=1&amp;viewType=lst&amp;sort=rel&amp;showFilter=true&amp;frm=NVSHSRC&amp;selectedFilterTab=maker&amp;query=&quot;+msg.substr(4))<br />.replace(/&lt;[^&gt;]+&gt;/g,&quot;&quot;)<br />.split(&quot;네이버페이&quot;)[1]<br />.split(&quot;찜하기&quot;)[0]<br /><br />.trim()<br /><br />replier.reply(&quot;《&quot;+msg.substr(4)+&quot;》의 쇼핑검색 결과입니다!\\n전체보기로 확인해 주세요\\n\\n&quot;+&quot;\\u200b&quot;.repeat(500)+html)<br />}<br />&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;&#8203;<br /><br />if(msg.trim() == &quot;:숫자 게임&quot;) {<br />    var a = Math.floor(Math.random() * 7 + 1);<br />    var b = Math.floor(Math.random() * 7 + 1);<br />    var c = Math.floor(Math.random() * 7 + 1);<br />    var o = [&apos;□■□&apos;, &apos;■■□&apos;, &apos;□■□&apos;, &apos;□■□&apos;, &apos;□■□&apos;];<br />    var t = [&apos;■■■&apos;, &apos;□□■&apos;, &apos;■■■&apos;, &apos;■□□&apos;, &apos;■■■&apos;];<br />    var th = [&apos;■■■&apos;, &apos;□□■&apos;, &apos;■■■&apos;, &apos;□□■&apos;, &apos;■■■&apos;];<br />    var f = [&apos;■□■&apos;, &apos;■□■&apos;, &apos;■■■&apos;, &apos;□□■&apos;, &apos;□□■&apos;];<br />    var fi = [&apos;■■■&apos;, &apos;■□□&apos;, &apos;■■■&apos;, &apos;□□■&apos;, &apos;■■■&apos;];<br />    var s = [&apos;■■■&apos;, &apos;■□□&apos;, &apos;■■■&apos;, &apos;■□■&apos;, &apos;■■■&apos;];<br />    var se = [&apos;■■■&apos;, &apos;□□■&apos;, &apos;□□■&apos;, &apos;□□■&apos;, &apos;□□■&apos;];<br />    var ca = {1 : o, 2 : t, 3 : th, 4 : f, 5 : fi, 6 :s ,7 : se};<br />    var first = ca[a];<br />    var second = ca[b];<br />    var third = ca[c];<br />    var list = &quot;&quot;;<br />    for(var i = 0; i &lt; 5; i++) {<br />        list += first[i] + &apos;  &apos; + second[i] + &apos;  &apos; + third[i] + &quot;\\n&quot;;<br />    }<br />    list = list.replace(/□/g, &quot;\\u2592&quot;).replace(/■/g,&quot;&#9608;&quot;);<br />    if(a == b &amp;&amp; b == c) {<br />        replier.reply(list + &quot;[당첨! 축하드립니다]&quot;);<br />    } else {<br />        replier.reply(list + &quot;[흠 꽝이네요]&quot;);<br />    }<br />}    <br /><br /><br />try {&nbsp;<br />if (msg.indexOf(&quot;:영화정보&quot;)==0) {&nbsp;<br />var u=Utils.getWebText(&quot;https://m.search.naver.com/search.naver?query=&quot;+msg.substr(6))<br />.split(&quot;&lt;h2 class=\\&quot;movie_title\\&quot;&gt;&quot;)[1]//저거 위쪽을 다 자름<br />.split(&quot; &lt;ul class=\\&quot;button_list\\&quot;&gt;&quot;)[0]//저거 밑쪽을 다 자름<br />.replace(/(&lt;([^&gt;]+)&gt;)/g, &quot;&quot;)//정규식활용<br />.trim()//공백 끔살<br />.replace(/^ +/gm,&quot;&quot;)<br />.replace(/\\n\\n/g,&quot;&quot;)<br />.replace(/&gt;/g,&quot;&quot;)<br />var title = u.split(&quot;개요&quot;)[0]<br />var gaeyo = u.split(&quot;개요&quot;)[1].split(&quot;개봉&quot;)[0].trim()<br />var gaebong = u.split(&quot;개봉&quot;)[1].split(&quot;평점&quot;)[0].trim()<br />var pyueng = u.split(&quot;평점&quot;)[1].split(&quot;관객수&quot;)[0].trim()<br />var gawng = u.split(&quot;관객수&quot;)[1].split(&quot;줄거리&quot;)[0].trim()<br />var julguri = u.split(&quot;줄거리&quot;)[1].split(&quot;더보기&quot;)[0].trim()<br />replier.reply(title+&quot;\\n개요: &quot;+gaeyo+&quot;\\n개봉일: &quot;+gaebong+&quot;\\n평점: &quot;+pyueng+&quot;\\n관객수: &quot;+gawng+&quot;\\n\\n줄거리: &quot;+julguri); //변수u를 불러옴<br />}&nbsp;<br />} catch(e){&nbsp;<br />replier.reply(&quot;영화정보가 없습니다.&quot;);&nbsp;<br />}<br />    if(msg.indexOf(&quot;:단어&quot;)==0){<br />var u = Utils.getWebText(&quot;https://opendict.korean.go.kr/search/searchResult?focus_name=query&amp;query=&quot;+msg.substr(3));<br />var i = true<br />var po = u.replace(/&lt;(.+?)&gt;/g,&quot;&quot;)<br />var count = 1;<br />var list = msg.substr(3)+&quot;의 검색 결과\\n&quot;<br />while(i){<br />    var num = &quot;「&quot;+&quot;00&quot;+String(count)+&quot;」&quot;<br />    if(po.match(&quot;「&quot;+&quot;00&quot;+String(count)+&quot;」&quot;)!==null){<br />        list += num+u.split(num)[1].split(&quot;&lt;/a&gt;&quot;)[0].replace(/&lt;(.+?)&gt;/g,&quot;&quot;)+&quot;\\n&quot;<br />        count++<br />    } else {<br />        break;<br />    }<br />}<br />replier.reply(list+&quot;검색 결과:&quot;+(count-1))<br />}<br />  if(msg.indexOf(&quot;:나무위키&quot;)==0){<br />    var u = Utils.getWebText(&quot;https://namu.wiki/w/&quot;+encodeURI(msg.substr(5)));<br />    var a = u.split(&quot;&lt;div class=\\&quot;wiki-inner-content\\&quot;&gt;&quot;)[1];<br />    var b = a.split(&quot;&lt;footer&gt;&quot;)[0].replace(/(&lt;([^&gt;]+)&gt;)/g,&quot;&quot;);<br />    replier.reply(b)<br />}<br /><br /><br />if(msg==&quot;:한강물온도&quot;){ <br />W = Utils.getWebText(&quot;https://www.wpws.kr/hangang/&quot;).split(&quot;&lt;p id=\\&quot;title\\&quot;&gt;Hangang Temperature&lt;/p&gt; &quot;)[1].split(&quot;&lt;br&gt;&copy;WPWS 2018 &lt;/p&gt; &quot;)[0].replace(/(&lt;([^&gt;]+)&gt;)/g, &quot;&quot;).trim()<br />replier.reply(W)<br />}<br /><br />if(msg.indexOf(&quot;:게임정보&quot;) ==0){<br />try{<br />var html = Utils.getWebText(&quot;https://m.search.naver.com/search.naver?query=&quot;+msg.substr(5))<br />.replace(/&lt;[^&gt;]+&gt;/g,&quot;&quot;)<br />.split(&quot;게임정보&quot;)[1]<br />.split(&quot;시스템&quot;)[0]<br />.trim()<br />.replace(/\\n/g, &quot;&quot;).replace(/ /g, &quot;&quot;)<br /><br />.replace(/(주) /g,&quot;\\n(주) &quot;)<br />.replace(/배급/g,&quot;\\n배급 : &quot;)<br />.replace(/등급/g,&quot;\\n등급 : &quot;)<br />.replace(/공식사이트/g,&quot;&quot;)<br />.replace(/헝그리앱/g,&quot;&quot;)<br />.replace(/가격/g,&quot;\\n가격 : &quot;)<br />.replace(/페이스북/g,&quot;&quot;)<br />.replace(/정보/g,&quot;&quot;)<br />.replace(/출시/g,&quot;\\n출시 : &quot;)<br />.replace(/플랫폼/g,&quot;\\n플랫폼 : &quot;)<br /><br /><br />replier.reply(&quot;[Google Assistant]게임정보 입니다&quot;+&quot;\\u200b&quot;.repeat(500)+&quot;\\n\\n&quot;+html)<br />}catch(e){<br />replier.reply(msg.substr(4)+&quot;의 게임 정보가 없습니다&quot;);<br />}<br />}<br /><br /><br />if(msg.indexOf(&quot;:마법의소라고둥&quot;)==[0]){<br />var 대답 = [&quot;안돼&quot;,&quot;다시한번물어봐&quot;,&quot;그럼&quot;];<br />var 대답랜덤 = 대답[Math.floor(Math.random()*3)];<br />replier.reply(&quot;마법의소라고둥\\n &quot; + 대답랜덤 + &quot;&quot;);<br />}<br /><br />if (msg ==&quot;:월요일시간표&quot;){<br />replier.reply(&quot;[Google Assistant]개발자님의학교시간표이에요\\n1교시: 수학\\n2교시: 스포 \\n3교시: 국어\\n4교시: 역사\\n 점심시간\\n5교시: 기술 \\n6교실: 영어1\\n7교시: 창체&quot;)<br />}<br />    <br />if(msg==&quot;:노래차트&quot;) {<br />var p = Utils.getWebText(&quot;https://mw.genie.co.kr/chart&quot;).replace(/(&lt;([^&gt;]+)&gt;)/g, &quot;&quot;).replace(/^ +| +$/gm,&quot;&quot;).replace(/\\n+/g,&quot;\\n&quot;);<br />var go = p.split(&quot;artist text-gray ellipsis&quot;);<br />var c = go[0].split(&quot;앱에서 더 많은 리스트 보기&quot;);<br />var v = c[0].split(&quot;앱에서 전체듣기&quot;);    //앉으라고 했는데<br />var w = v[1].split(&quot;:재생&quot;);<br />var y = [];<br />for(var i=0;i&lt;50;i++) {    //애러나서 주는거임 <br />y.push(String(w[i]).replace(/\\d/,Number(i)+1+&quot;위&quot;));<br />}<br />replier.reply(&quot;[지니차트]\\n\\n&quot;+y.join(&quot;&quot;)+&quot;=====&quot;);<br /><br />}<br /><br />var list = []; //컴파일하면 리셋되는 홍보 횟수 리스트<br />var reset; //날짜 불러오는 건데 이름이 리셋인 건 기분탓<br />const FS = FileStream; //손아파서 쓴거에요<br /><br /><br />if(list[sender] == undefined) { //초면이면 리셋<br />list[sender] = 0;<br />}<br />if(msg.indexOf(&quot;https://youtu.be&quot;) != -1) { //메세지에서 홍보를 감지<br />list[sender] ++;<br />replier.reply(&quot;[Google Assistant]\\n\\n&quot; + sender + &quot; 님,\\n유튜브를홍보했군요\\n당신의 누적 홍보 횟수는 : &quot; + list[sender] + &quot;회 입니다.&quot;)<br />}<br />if(msg) { //메세지 올때마다 날짜 확인<br />var day = new Date();<br />reset = ((day.getMonth() + 1) + &quot;월 &quot; + day.getDate() + &quot;일&quot;);<br />if(reset != FS.read(&quot;sdcard/&lt;폴더 이름&gt;/날짜.txt&quot;)) { //만약 저장된 날짜랑 지금 날짜랑 다르다면,<br />FS.write(&quot;sdcard/&lt;폴더 이름&gt;/날짜.txt&quot;, reset); //날짜를 수정<br />Api.compile(&quot;홍보.js&quot;); //홍보 횟수 리셋<br />}<br />else return; <br />}<br /><br /><br />if(msg.indexOf(&quot;방장님&quot;)!=-1){<br />replier.reply(&quot;[Google Assistant] 지금 방장님 안 계십니다 방장님을 부르고싶으시면 :호출해주시면 방장님이 호출한방으로 갑니다 방장님 호출 가능한 시간!! 평일:월,화4시~5시수,목,금3시~4시주말:오전9:00~오후23:00&quot;);<br />}<br />if(msg.indexOf(&quot;기강형&quot;)!=-1){<br />replier.reply(&quot;[Google Assistant] 지금 방장님 안 계십니다 방장님을 부르고싶으시면 :호출해주시면 방장님이 호출한방으로 갑니다 방장님 호출 가능한 시간!! 평일:월,화4시~5시수,목,금3시~4시주말:오전9;00~오후23:00&quot;);<br />}<br />if(msg.indexOf(&quot;기강님&quot;)!=-1){<br />replier.reply(&quot;[Google Assistant] 지금 방장님 안 계십니다 방장님을 부르고싶으시면 :호출해주시면 방장님이 호출한방으로 갑니다 방장님 호출 가능한 시간!! 평일:월,화오후4시~5시수,목,금오후3시~4시주말:오전9:00~23:00&quot;);<br />}<br />var player = null;<br />&nbsp;<br />&nbsp;<br />&nbsp;<br /><br />&nbsp;<br />msg = msg.trim();<br />&nbsp;<br />if (msg == &quot;가위바위보&quot;) {<br />&nbsp;<br />replier.reply(&quot;가위바위보 게임을 시작합니다.\\n:가위,&nbsp;:바위,&nbsp;:보 중 하나를 내주세요.&quot;);<br />&nbsp;<br />player = sender;<br />&nbsp;<br />}<br />&nbsp;<br />if (player == sender &amp;&amp; (msg == &quot;:가위&quot; || msg == &quot;:바위&quot; || msg == &quot;:보&quot;)) {<br />&nbsp;<br />var result = Math.floor(Math.random() * 3);<br />&nbsp;<br />if (result == 0) {<br />&nbsp;<br />if (msg == &quot;:가위&quot;) {<br />&nbsp;<br />replier.reply(&quot;저는 바위를 냈습니다.\\n제가 이겼습니다.&quot;);<br />&nbsp;<br />} else if (msg == &quot;:바위&quot;) {<br />&nbsp;<br />replier.reply(&quot;저는 보를 냈습니다.\\n제가 이겼습니다.&quot;);<br />&nbsp;<br />} else if (msg == &quot;:보&quot;) {<br />&nbsp;<br />replier.reply(&quot;저는 가위를 냈습니다.\\n제가 이겼습니다.&quot;);<br />&nbsp;<br />}<br />&nbsp;<br />} else if (result == 1) {<br />&nbsp;<br />replier.reply(&quot;저는&nbsp;&quot; + msg + &quot;를 냈습니다.\\n비겼습니다.&quot;);<br />&nbsp;<br />} else if (result == 2) {<br />&nbsp;<br />if (msg == &quot;:가위&quot;) {<br />&nbsp;<br />replier.reply(&quot;저는 보를 냈습니다.\\n당신이 이겼습니다.&quot;);<br />&nbsp;<br />} else if (msg == &quot;:바위&quot;) {<br />&nbsp;<br />replier.reply(&quot;저는 가위를 냈습니다.\\n당신이 이겼습니다.&quot;);<br />&nbsp;<br />} else if (msg == &quot;:보&quot;) {<br />&nbsp;<br />replier.reply(&quot;저는 바위를 냈습니다.\\n당신이 이겼습니다.&quot;);<br />&nbsp;<br />}<br />&nbsp;<br />}<br />&nbsp;<br />player = null;<br />&nbsp;<br />}<br />&nbsp;<br /><br />//모르면 첫번째 강좌보고 오세요<br />    var words = [&quot;시발&quot;, &quot;병신&quot;, &quot;지랄&quot;, &quot;개새끼&quot;, &quot;꺼져&quot;];<br />//words는 배열안에 욕들이 있습니다<br />    for (var n = 0; n &lt; words.length; n++) {<br />//n이 0이고 n이 words길이보다 작을때 n은 1씩 증가합니다<br />//즉 배열안에 있는 말들을 찾는거라 보시면 되요 &quot;시발&quot;이 지금 words배열안에있으니까 만약 시발이라고 치면 배열안에서 찾아서 감지됬다고 뜹니다<br />    var words2 = msg.replace(/[^0-9a-zA-Zㄱ-ㅎㅏ-ㅣ가-힣]/gi,&quot;&quot;); <br />//words2는 메세지를 대체줍니다 지금 위에 보시면 이거는 특수문자를 제거해주는 정규식입니다 이거를 공백으로 대체합니다<br />        if (words2.indexOf(words[n]) != -1) {<br />//만약 words2배열안에 words[n]이라는 말이 있을경우 n은 지금 우리가 for문에서 선언한 문자입니다<br />            replier.reply(&quot;[필터링]\\n&quot;+sender+&quot;님의 욕이 감지되었습니다.\\n감지된 욕:&quot;+&quot;*&quot;+words[n].substr(1));<br />//욕이 감지됬다고뜹니다 뒤에 words[n]에 앞부분 한개를 자르고 *로 넣어주는겁니다<br />            break;<br />        //반복문 탈출 <br />    }<br />  }<br />    if (msg == &quot;반가워&quot;) { //수신된 채팅 내용이 반가워라면,<br />        replier.reply(&quot;[Google Assistant] (미친저리가라고하줄알았지)안녕하세요. Lee Gi gamg(기강의수다방방장)의 인공지능 Google Assistant에요. 만나서 반가워요.&quot;); //빼애액이라고답변 <br />&nbsp; &nbsp;}<br /> msg = msg.trim();<br /><br />&nbsp; &nbsp;&nbsp;if (msg.search(&quot;※따라하기 &quot;) == 0) {<br /><br />&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;var result&nbsp;= msg.replace(&quot;※따라하기 &quot;, &quot;&quot;);   <br />}<br />var power = true;<br /><br /><br />if (msg == &quot;:오늘&quot;) {&nbsp;<br /><br />var day = new Date();&nbsp;<br /><br />replier.reply(&quot;오늘은&quot; + (day.getMonth() + 1)+&quot;월&quot; + day.getDate() + &quot;일 입니다.&quot;);&nbsp;<br /><br />}&nbsp;<br /><br /><br />if (msg == &quot;:현재시간js&quot;) {<br /> <br /> var day = new Date();<br /> <br /> replier.reply(&quot;현재시간은&quot; + day.getHours() + &quot;시&quot; + day.getMinutes() + &quot;분&quot; + day.getSeconds() + &quot;초 입니다.&quot;);<br />  <br />  }<br />  <br /> <br />    if (msg == &quot;안녕&quot;) { //수신된 채팅 내용이 안녕이라면,<br />        replier.reply(&quot;[Google Assistant]난 안녕 못하는데.&quot;); //안녕 못한다고 답변<br />    }<br />    if (msg == &quot;아무도없나요&quot;) { //수신된 채팅 내용이 반가워라면,<br />        replier.reply(&quot;[Google Assistant]빼애액 AI봇구글이있잖아요&quot;); //빼애액이라고 답변<br />}<br /><br />var chat = [] // 전역변수<br />var chat2 = [] // 전역변수<br />if(msg.trim()){<br />    if( chat[sender] == undefined){<br />        chat[sender] = 1+&quot; 회: &quot;+sender<br />        chat2.push(chat[sender]);<br />    } else {<br />             var i = parseInt(Number(chat[sender].replace(/[^0-9]/g,&quot;&quot;)) + 1)<br />        chat2[chat2.indexOf(chat[sender])] = i+&quot; 회: &quot;+sender;<br />        chat[sender] = i+&quot; 회: &quot;+sender;<br />    }<br />chat2 = chat2.sort(function(a,b){a = Number(a.replace(/[^0-9]/g,&quot;&quot;)); b = Number(b.replace(/[^0-9]/g,&quot;&quot;)); return b-a;});<br />}<br />if(msg.trim()==&quot;:채팅순위&quot;){<br />    replier.reply(chat2.join(&quot;\\n&quot;))<br />}<br />var 출첵목록=[];<br />if(msg==&quot;:ㅊㅊ&quot;){<br />if(출첵목록.indexOf(sender)!=-1){<br />replier.reply(&quot;오늘&quot;+sender+&quot;님은 이미 출석체크를 하셨습니다.&quot;)<br />}else{<br />replier.reply(sender+&quot;님 출석체크하였습니다&quot;)<br />출첵목록.push(sender)<br />}<br />}<br />if(msg==&quot;:출석부&quot;){<br />replier.reply(출첵목록.join(&quot;\\n&quot;))<br />}<br />if(String(new Date().getHours()) == 24){<br />출첵목록 = [];<br />}<br />if (msg == &quot;:로또&quot;) {<br />var 로또1 = Math.floor(Math.random() * 45) + 1;<br />var 로또2 = Math.floor(Math.random() * 45) + 1;<br />var 로또3 = Math.floor(Math.random() * 45) + 1;<br />var 로또4 = Math.floor(Math.random() * 45) + 1;<br />var 로또5 = Math.floor(Math.random() * 45) + 1;<br />var 로또6 = Math.floor(Math.random() * 45) + 1;<br />var 로또7 = Math.floor(Math.random() * 45) + 1;<br />replier.reply(&quot;[Google Assistant]추천 로또 번호 : &quot;+ 로또1 +&quot; &quot;+ 로또2+&quot; &quot; + 로또3 +&quot; &quot;+ 로또4 +&quot; &quot;+ 로또5 +&quot; &quot;+ 로또6 +&quot; + &quot;+로또7);<br />}<br /><br /><br /><br />if (msg ==&quot;:화요일시간표&quot;){<br />replier.reply(&quot;[Google Assistant]개발자님의학교시간표이에요\\n1교시: 미술\\n2교시: 국어 \\n3교시: 사회\\n4교시: 체육\\n 점심시간\\n5교시: 과학 \\n6교실: 영어1\\n7교시: 수학&quot;)<br />}<br /><br />if (msg ==&quot;:수요일시간표&quot;){<br />replier.reply(&quot;[Google Assistant]개발자님의학교시간표이에요\\n1교시: 과학\\n2교시: 국어 \\n3교시: 체육\\n4교시: 수학\\n 점심시간\\n5교시: 기술 \\n6교실: 가정\\n7교시: 없음&quot;)<br />}<br /><br />if (msg ==&quot;:목요일시간표&quot;){<br />replier.reply(&quot;[Google Assistant]개발자님의학교시간표이에요\\n1교시: 영어1\\n2교시: 사회 \\n3교시: 도덕\\n4교시: 체육\\n 점심시간\\n5교시: 과학 \\n6교실: 국어\\n7교시: 없음&quot;)<br />}<br /><br />if (msg ==&quot;:금요일시간표&quot;){<br />replier.reply(&quot;[Google Assistant]개발자님의학교시간표이에요\\n1교시: 음악\\n2교시: 과학 \\n3교시: 역사\\n4교시: 수학\\n 점심시간\\n5교시: 가정 \\n6교실: 영어1\\n7교시: 없음&quot;)<br />}<br />/* MakeJs : v2.0 */<br /><br /><br />    if(msg == &quot;카카오톡 프로필&quot;) {<br />        replier.reply(&quot;[Google Assistant긴급정보] &#128680;&quot; + sender + &quot;님!자신프로필이 아니면 개인정보 유출로 신고가 될수 있으니 주의하시기 바랍니다.&#128680;&quot;);<br />    }<br /><br /><br />    if(msg == &quot;:닉네임&quot;) {<br />        replier.reply(&quot;[Google Assistant] &quot; + sender + &quot;님입니다!&quot;);<br />    }<br /><br />}<br /><br /><br /></p>",
            "decorator": {
                "isPlug": false,
                "isShowSuicideSaver": false
            },
            "existScrapAddContent": false,
            "gdid": "90000004_01C2B33B00000F7C00000000",
            "id": 3964,
            "isAutoSourcing": true,
            "isBlind": false,
            "isDeleteParent": false,
            "isEnableExternal": true,
            "isEnableScrap": true,
            "isEnableSocialPlugin": true,
            "isGroupPurchase": false,
            "isMarket": false,
            "isNewComment": false,
            "isNotice": false,
            "isOpen": true,
            "isPersonalTrade": false,
            "isReadable": true,
            "isWriteComment": true,
            "menu": {
                "badMenu": false,
                "badMenuByRestrict": false,
                "boardType": "L",
                "id": 3,
                "menuType": "B",
                "name": "| 소스 질문 |"
            },
            "readCount": 1086,
            "refArticleId": 3964,
            "replyListOrder": "",
            "scrapCount": 0,
            "subject": "메신저봇 소스를합쳐는데 되는게있고 안돼는게있는데 소스올려놓게요 확인해서보내줄시분구합니다",
            "template": {
                "isUse": false
            },
            "writeDate": 1563804675367,
            "writer": {
                "id": "dlrlrk8",
                "image": {
                    "service": "CAFE",
                    "type": "c77_77",
                    "url": "https://ssl.pstatic.net/static/cafe/cafe_pc/default/cafe_profile_77.png"
                },
                "memberLevelIconUrl": "https://cafe.pstatic.net/levelicon/1/13_130.gif",
                "memberLevelName": "챗봇 고수",
                "nick": "Google Assistant"
            }
        },
        "articleId": 3964,
        "attaches": [],
        "authority": {
            "isDoLike": true,
            "isEnableAttachFileDownload": true,
            "isHeadModifiable": false,
            "isModify": false,
            "isMove": false,
            "isRemove": false,
            "isReport": true,
            "isRightClick": true,
            "isSharable": true,
            "isShowLike": true,
            "isShowReply": false,
            "isShowStatistics": false,
            "isStore": false,
            "isWrite": true,
            "isWriteComment": true,
            "isWriteReply": true
        },
        "cafe": {
            "exposeReservation": false,
            "hasPopularArticle": true,
            "id": 29537083,
            "image": {
                "service": "CAFE",
                "type": "f100_100",
                "url": "https://mcafethumb-phinf.pstatic.net/MjAxOTAyMjVfMTg5/MDAxNTUxMDg2MDc1OTY2.umN5Kq9Z2sFRSdAXyJ2sz9UAlE0ofXm-dWJIRbeRbvsg.i_KxnwZ-FvDMQLnpo0ZYMo0Zl9JjOAPGWozW-WnLXJQg.PNG.wltjdqls5304/image.png"
            },
            "introduction": "자바스크립트를 사용하는 카카오톡 봇 관련 커뮤니티 입니다.",
            "isDormant": false,
            "memberCount": 5247,
            "name": "카카오톡 봇 커뮤니티",
            "openType": "O",
            "pcCafeName": "카카오톡 봇 커뮤니티",
            "url": "nameyee",
            "usingMemberLevel": true
        },
        "cafeId": 29537083,
        "comments": {
            "alarm": {
                "isChecked": false,
                "isShow": true
            },
            "disableWriteReason": "",
            "items": [
                {
                    "content": "response가 여러개 있어서 마지막 response 안에있는것들만 작동하는거에요",
                    "id": 64592457,
                    "isArticleWriter": false,
                    "isDeleted": false,
                    "isNew": false,
                    "isRef": false,
                    "isRemovable": false,
                    "refId": 64592457,
                    "updateDate": 1563804844000,
                    "writer": {
                        "id": "junho8590",
                        "image": {
                            "isAnimated": false,
                            "service": "BLOG",
                            "type": "c77_77",
                            "url": "https://blogpfthumb-phinf.pstatic.net/20190330_183/junho8590_1553932414639v9xBF_PNG/110857.png"
                        },
                        "nick": "마른얼음 BOT"
                    }
                },
                {
                    "content": "수정해서보내주시는것가능하나요?",
                    "id": 64592951,
                    "isArticleWriter": true,
                    "isDeleted": false,
                    "isNew": false,
                    "isRef": true,
                    "isRemovable": false,
                    "refId": 64592457,
                    "updateDate": 1563805136000,
                    "writer": {
                        "id": "dlrlrk8",
                        "image": {
                            "service": "CAFE",
                            "type": "c77_77",
                            "url": "https://ssl.pstatic.net/static/cafe/cafe_pc/default/cafe_profile_77.png"
                        },
                        "nick": "Google Assistant"
                    }
                },
                {
                    "content": "으아으 너무 덕지덕지 붙인",
                    "id": 64636318,
                    "isArticleWriter": false,
                    "isDeleted": false,
                    "isNew": false,
                    "isRef": false,
                    "isRemovable": false,
                    "refId": 64636318,
                    "updateDate": 1563854287000,
                    "writer": {
                        "id": "dsy2761",
                        "image": {
                            "isAnimated": false,
                            "service": "CAFE",
                            "type": "c77_77",
                            "url": "https://cafethumb.pstatic.net/MjAxOTExMTRfMjcy/MDAxNTczNjc1MDE4MzE1.xTQI54tOUEO0syvnkIH0HtOOqlPrLi11LShvYF5Y7-Ug.gvo5g0oyWB3F7T61gRFGZrLBZtIQP73GcsCNNg5l7L0g.JPEG/externalFile.jpg"
                        },
                        "nick": "AlphaDo"
                    }
                },
                {
                    "content": "ㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋ",
                    "id": 64764466,
                    "isArticleWriter": true,
                    "isDeleted": false,
                    "isNew": false,
                    "isRef": true,
                    "isRemovable": false,
                    "refId": 64636318,
                    "updateDate": 1563986113000,
                    "writer": {
                        "id": "dlrlrk8",
                        "image": {
                            "service": "CAFE",
                            "type": "c77_77",
                            "url": "https://ssl.pstatic.net/static/cafe/cafe_pc/default/cafe_profile_77.png"
                        },
                        "nick": "Google Assistant"
                    }
                },
                {
                    "content": "크으 멋진 소스야",
                    "id": 64650487,
                    "isArticleWriter": false,
                    "isDeleted": false,
                    "isNew": false,
                    "isRef": false,
                    "isRemovable": false,
                    "refId": 64650487,
                    "updateDate": 1563868413000,
                    "writer": {
                        "id": "tuduri000",
                        "image": {
                            "service": "CAFE",
                            "type": "c77_77",
                            "url": "https://ssl.pstatic.net/static/cafe/cafe_pc/default/cafe_profile_77.png"
                        },
                        "nick": "별명을 입력해 주세요"
                    }
                },
                {
                    "content": "리스폰스 으메이징",
                    "id": 88114542,
                    "isArticleWriter": false,
                    "isDeleted": false,
                    "isNew": false,
                    "isRef": false,
                    "isRemovable": false,
                    "refId": 88114542,
                    "updateDate": 1587450685000,
                    "writer": {
                        "id": "duswl071005",
                        "image": {
                            "isAnimated": false,
                            "service": "BLOG",
                            "type": "c77_77",
                            "url": "https://blogpfthumb-phinf.pstatic.net/20200616_163/duswl071005_1592267238071g96mJ_PNG/image.png"
                        },
                        "nick": "루카"
                    }
                }
            ]
        },
        "editorVersion": "LEGACY",
        "errorCode": null,
        "heads": [
            {
                "head": "메신저봇",
                "headId": 57
            },
            {
                "head": "채팅자동봇",
                "headId": 58
            },
            {
                "head": "답변 완료",
                "headId": 99
            },
            {
                "head": "카링",
                "headId": 105
            }
        ],
        "isReadOnlyMode": false,
        "isW800": false,
        "readOnlyModeInfo": {
            "emergency": false,
            "linkToNoticeURL": "https://section.cafe.naver.com/cafe-home/cafe-notice?noticeId=1650",
            "readOnlyNoticeDuration": "",
            "timeToNotice": false,
            "timeToPreNotice": false
        },
        "tags": []
    }
}